{"version":3,"sources":["user.js"],"names":["$","init","getuserinfo","eventList","token","JSON","parse","sessionStorage","getItem","ajax","url","headers","Authorization","success","result","meta","status","html","data","user_tel","user_email","console","log","on","mui","confirm","editType","index","clear","location","href"],"mappings":";;AAAAA,CAAC,CAAC,YAAY;AACZ;;;;;;;AAOAC,EAAAA,IAAI;;AACJ,WAASA,IAAT,GAAgB;AACdC,IAAAA,WAAW;AACXC,IAAAA,SAAS;AACV,GAZW,CAcZ;;;AACA,WAASD,WAAT,GAAuB;AACrB,QAAIE,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,EAA+CJ,KAA3D;AACAJ,IAAAA,CAAC,CAACS,IAAF,CAAO;AACLC,MAAAA,GAAG,EAAC,yDADC;AAELC,MAAAA,OAAO,EAAC;AACNC,QAAAA,aAAa,EAAER;AADT,OAFH;AAKLS,MAAAA,OAAO,EAAC,iBAAUC,MAAV,EAAkB;AACzB,YAAGA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAoB,GAAvB,EAA2B;AACxB,cAAIC,IAAI,uDAEIH,MAAM,CAACI,IAAP,CAAYC,QAFhB,wDAIHL,MAAM,CAACI,IAAP,CAAYE,UAJT,qCAAR;AAQApB,UAAAA,CAAC,CAAC,WAAD,CAAD,CAAeiB,IAAf,CAAoBA,IAApB;AACF,SAVD,MAUK;AACHI,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD;AAED;AApBI,KAAP;AAsBD;;AAED,WAASnB,SAAT,GAAqB;AACnB;AACAH,IAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBuB,EAAjB,CAAoB,KAApB,EAA0B,YAAY;AAEpCC,MAAAA,GAAG,CAACC,OAAJ,CAAY,SAAZ,EAAsB,IAAtB,EAA2B,CAAC,IAAD,EAAM,IAAN,CAA3B,EAAuC,UAAUC,QAAV,EAAoB;AACzD,YAAGA,QAAQ,CAACC,KAAT,IAAgB,CAAnB,EAAqB;AACnB;AAEJ;AACApB,UAAAA,cAAc,CAACqB,KAAf,GAJuB,CAKvB;;AACAC,UAAAA,QAAQ,CAACC,IAAT,GAAc,YAAd;AACG,SAPD,MAOM,IAAGJ,QAAQ,CAACC,KAAT,IAAgB,CAAnB,EAAqB,CACzB;AACD;AAEF,OAZD;AAgBD,KAlBD;AAoBD;AACF,CAhEA,CAAD","sourcesContent":["$(function () {\r\n  /* \r\n  1 获取个人信息 动态渲染到页面上\r\n  2 点击退出登录\r\n    0 您是否确定退出！！！\r\n    1 清除缓存 本地存储\r\n    2 跳转页面 跳到登录页面 \r\n   */\r\n  init();\r\n  function init() {\r\n    getuserinfo();\r\n    eventList();\r\n  }\r\n  \r\n  // 获取个人信息数据\r\n  function getuserinfo() {\r\n    let token = JSON.parse(sessionStorage.getItem(\"userinfo\")).token;\r\n    $.ajax({\r\n      url:\"http://api.pyg.ak48.xyz/api/public/v1/my/users/userinfo\",\r\n      headers:{\r\n        Authorization: token\r\n      },\r\n      success:function (result) {\r\n       if(result.meta.status==200){\r\n          let html=\r\n          `\r\n          <li> 手机号码:${result.data.user_tel}  \r\n          <br>\r\n          邮箱:${result.data.user_email}  \r\n           </li>\r\n          `;\r\n\r\n          $(\".userinfo\").html(html);\r\n       }else{\r\n         console.log(\"失败\");\r\n       }\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  function eventList() {\r\n    // 点击 退出按钮\r\n    $(\".logout_btn\").on(\"tap\",function () {\r\n\r\n      mui.confirm(\"您确定退出吗？\",\"警告\",[\"退出\",\"取消\"],function (editType) {\r\n        if(editType.index==0){\r\n          // 退出\r\n          \r\n      // 清除本地存储数据\r\n      sessionStorage.clear();\r\n      // 跳转到登录页面\r\n      location.href=\"login.html\";\r\n        }else if(editType.index==1){\r\n          // 取消\r\n        }\r\n        \r\n      })\r\n\r\n\r\n      \r\n    })\r\n    \r\n  }\r\n})"],"file":"user.js"}