{"version":3,"sources":["category.js"],"names":["$","CateDatas","init","categories","eventList","params","on","addClass","siblings","removeClass","index","renderRight","get","result","meta","status","data","renderLeft","console","log","leftHtml","i","length","tmpHtml","cat_name","html","item2Obj","rightData","children","rightHtml","template","arr"],"mappings":";;AAAAA,CAAC,CAAC,YAAW;AACX;;;;;;;;;;;;;AAcA;AACA,MAAIC,SAAJ;AAEAC,EAAAA,IAAI;;AACJ,WAASA,IAAT,GAAgB;AACdC,IAAAA,UAAU;AACVC,IAAAA,SAAS;AACV,GAtBU,CAwBX;;;AACA,WAASA,SAAT,CAAmBC,MAAnB,EAA2B;AACzB;AACA;AAEAL,IAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBM,EAAjB,CAAoB,KAApB,EAA0B,IAA1B,EAA+B,YAAY;AAEzCN,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQO,QAAR,CAAiB,QAAjB,EAA2BC,QAA3B,GAAsCC,WAAtC,CAAkD,QAAlD,EAFyC,CAIzC;;AACA,UAAIC,KAAK,GAACV,CAAC,CAAC,IAAD,CAAD,CAAQU,KAAR,EAAV;AACAC,MAAAA,WAAW,CAACD,KAAD,CAAX;AAED,KARD;AASD,GAtCU,CAyCX;;;AACA,WAASP,UAAT,GAAsB;AACpBH,IAAAA,CAAC,CAACY,GAAF,CAAM,kDAAN,EAA0D,UAAAC,MAAM,EAAI;AAClE;AACA,UAAIA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAsB,GAA1B,EAA+B;AAC7B;AAEA;AACAd,QAAAA,SAAS,GAAGY,MAAM,CAACG,IAAnB,CAJ6B,CAM7B;;AACAC,QAAAA,UAAU,GAPmB,CAS7B;;AACAN,QAAAA,WAAW,CAAC,CAAD,CAAX;AACD,OAXD,MAWO;AACLO,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBN,MAAlB;AACD;AACF,KAhBD;AAiBD,GA5DU,CA8DX;;;AACA,WAASI,UAAT,GAAsB;AACpB;AACA,QAAIG,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpB,SAAS,CAACqB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC;AAEA,UAAIE,OAAO,2CACYF,CAAC,IAAI,CAAL,GAAS,QAAT,GAAoB,EADhC,gBAETpB,SAAS,CAACoB,CAAD,CAAT,CAAaG,QAFJ,4BAAX;AAKAJ,MAAAA,QAAQ,IAAIG,OAAZ;AACD,KAZmB,CAcpB;;;AACAvB,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgByB,IAAhB,CAAqBL,QAArB;AACD,GA/EU,CAiFX;;;AACA,WAAST,WAAT,CAAqBD,KAArB,EAA4B;AAC1B;AACA,QAAIgB,QAAQ,GAAGzB,SAAS,CAACS,KAAD,CAAxB,CAF0B,CAG1B;;AACA,QAAIiB,SAAS,GAAGD,QAAQ,CAACE,QAAzB,CAJ0B,CAK1B;;AAEA,QAAIC,SAAS,GAAGC,QAAQ,CAAC,UAAD,EAAa;AAAEC,MAAAA,GAAG,EAAEJ;AAAP,KAAb,CAAxB;AACA3B,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgByB,IAAhB,CAAqBI,SAArB;AACD;AACF,CA5FA,CAAD","sourcesContent":["$(function() {\r\n  /* \r\n  1 实现了静态布局\r\n  2 首页动态渲染数据\r\n    1 左侧菜单是全部渲染 \r\n    2 右侧的内容 是 根据左侧 被选中的菜单 才开始 渲染 \r\n    3 写两个方法  (页面用到的数据 只要发送一次请求去获取 就可以提供给下次下次 使用 )\r\n      渲染左边（）\r\n      渲染右边（）\r\n  3 点击左侧菜单\r\n    1 左侧菜单被 激活选中\r\n    2 右侧的内容 动态跟着渲染\r\n      1 先获取 被点击的li标签的索引\r\n   */\r\n\r\n  //  全局变量 存放 接口的返回数据 result.data\r\n  let CateDatas;\r\n\r\n  init();\r\n  function init() {\r\n    categories();\r\n    eventList();\r\n  }\r\n\r\n  // 负责 绑定 页面当中的 一坨事件\r\n  function eventList(params) {  \r\n    // 1 左侧菜单的点击事件  委托 委派\r\n    // touchstart 原生的触屏事件  \r\n\r\n    $(\".left_menu \").on(\"tap\",\"li\",function () {\r\n      \r\n      $(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n      // 获取 被点击的li标签的索引 $(this).index()\r\n      let index=$(this).index();\r\n      renderRight(index);\r\n      \r\n    })\r\n  }\r\n\r\n\r\n  // 1 发请求获取数据\r\n  function categories() {\r\n    $.get(\"http://api.pyg.ak48.xyz/api/public/v1/categories\", result => {\r\n      // 判断请求是否成功\r\n      if (result.meta.status == 200) {\r\n        // 成功\r\n\r\n        // 获取要渲染左侧的数据\r\n        CateDatas = result.data;\r\n\r\n        // 渲染左边\r\n        renderLeft();\r\n\r\n        // 渲染右边\r\n        renderRight(0);\r\n      } else {\r\n        console.log(\"失败\", result);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 2 渲染左边\r\n  function renderLeft() {\r\n    // 要拼接的左侧的html\r\n    let leftHtml = \"\";\r\n    for (let i = 0; i < CateDatas.length; i++) {\r\n      // let activeCls=i==0?\"active\":\"\";\r\n\r\n      let tmpHtml = `\r\n                <li class=\"${i == 0 ? \"active\" : \"\"}\">${\r\n        CateDatas[i].cat_name\r\n      }</li>\r\n                `;\r\n      leftHtml += tmpHtml;\r\n    }\r\n\r\n    // 把数据插入到 左侧容器中\r\n    $(\".left_menu\").html(leftHtml);\r\n  }\r\n\r\n  // 3 渲染右边\r\n  function renderRight(index) {\r\n    // 获取 大家电的数据\r\n    let item2Obj = CateDatas[index];\r\n    // 获取右侧内容 需要循环的数据\r\n    let rightData = item2Obj.children;\r\n    // console.log(rightData);\r\n\r\n    let rightHtml = template(\"rightTpl\", { arr: rightData });\r\n    $(\".right_box\").html(rightHtml);\r\n  }\r\n});\r\n"],"file":"category.js"}