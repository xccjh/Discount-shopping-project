{"version":3,"sources":["index.js"],"names":["$","init","swiperdata","catitems","goodslist","ajax","url","type","success","result","meta","status","data","html","template","arr","gallery","mui","slider","interval","console","log","get","i","length","tmpHtml","image_src"],"mappings":";;AAAAA,CAAC,CAAC,YAAW;AACXC,EAAAA,IAAI,GADO,CAGX;;AACA,WAASA,IAAT,GAAgB;AACdC,IAAAA,UAAU;AACVC,IAAAA,QAAQ;AACRC,IAAAA,SAAS;AACV,GARU,CAUX;;;AACA,WAASF,UAAT,GAAsB;AACpBF,IAAAA,CAAC,CAACK,IAAF,CAAO;AACLC,MAAAA,GAAG,EAAE,uDADA;AAELC,MAAAA,IAAI,EAAE,KAFD;AAGLC,MAAAA,OAAO,EAAE,iBAASC,MAAT,EAAiB;AACxB;AACA,YAAIA,MAAM,CAACC,IAAP,CAAYC,MAAZ,KAAuB,GAA3B,EAAgC;AAC9B;AACA,cAAIC,IAAI,GAAGH,MAAM,CAACG,IAAlB,CAF8B,CAG9B;AAEA;;AACA,cAAIC,IAAI,GAAGC,QAAQ,CAAC,WAAD,EAAc;AAAEC,YAAAA,GAAG,EAAEH;AAAP,WAAd,CAAnB,CAN8B,CAO9B;;AACAZ,UAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBa,IAAhB,CAAqBA,IAArB,EAR8B,CAU9B;;AACA,cAAIG,OAAO,GAAGC,GAAG,CAAC,aAAD,CAAjB;AACAD,UAAAA,OAAO,CAACE,MAAR,CAAe;AACbC,YAAAA,QAAQ,EAAE,IADG,CACE;;AADF,WAAf;AAGD,SAfD,MAeO;AACLC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBZ,MAApB;AACD;AACF;AAvBI,KAAP;AAyBD,GArCU,CAuCX;;;AACA,WAASN,QAAT,GAAoB;AAClB;AACA;AAEAH,IAAAA,CAAC,CAACsB,GAAF,CAAM,qDAAN,EAA6D,UAAAb,MAAM,EAAI;AACrE,UAAIA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAsB,GAA1B,EAA+B;AAC7B;AAEA;AACA,YAAIC,IAAI,GAAGH,MAAM,CAACG,IAAlB,CAJ6B,CAK7B;;AACA,YAAIC,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,IAAI,CAACY,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,cAAIE,OAAO,yEAECb,IAAI,CAACW,CAAD,CAAJ,CAAQG,SAFT,8CAAX;AAKAb,UAAAA,IAAI,IAAEY,OAAN;AACD,SAd4B,CAgB7B;;;AACAzB,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBa,IAAhB,CAAqBA,IAArB;AACD,OAlBD,MAkBO;AACLO,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBZ,MAApB;AACD;AACF,KAtBD;AAuBD,GAnEU,CAqEX;;;AACA,WAASL,SAAT,GAAqB;AACnBJ,IAAAA,CAAC,CAACsB,GAAF,CAAM,sDAAN,EAA6D,UAACb,MAAD,EAAU;AACxE,UAAGA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAoB,GAAvB,EAA2B;AAC1B;AACA;AACA,YAAIC,IAAI,GAACH,MAAM,CAACG,IAAhB,CAH0B,CAK1B;;AACA,YAAIC,IAAI,GAACC,QAAQ,CAAC,SAAD,EAAW;AAACC,UAAAA,GAAG,EAACH;AAAL,SAAX,CAAjB;AAEAZ,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBa,IAApB,CAAyBA,IAAzB;AACA,OATD,MASK,CACJ;AACA;AACC,KAbD;AAeD;AACF,CAvFA,CAAD","sourcesContent":["$(function() {\r\n  init();\r\n\r\n  // js一加载就执行的 方法 入口\r\n  function init() {\r\n    swiperdata();\r\n    catitems();\r\n    goodslist();\r\n  }\r\n\r\n  // 获取首页轮播图的数据\r\n  function swiperdata() {\r\n    $.ajax({\r\n      url: \"http://api.pyg.ak48.xyz/api/public/v1/home/swiperdata\",\r\n      type: \"get\",\r\n      success: function(result) {\r\n        //  判断请求是否成功\r\n        if (result.meta.status === 200) {\r\n          // 获取要渲染的数据 data=[]\r\n          let data = result.data;\r\n          // console.log(data);\r\n\r\n          // 生成要渲染的html标签\r\n          let html = template(\"swiperTpl\", { arr: data });\r\n          // 把标签插入到 轮播图的 div中\r\n          $(\".pyg_slide\").html(html);\r\n\r\n          // 初始化轮播图\r\n          var gallery = mui(\".mui-slider\");\r\n          gallery.slider({\r\n            interval: 5000 //自动轮播周期，若为0则不自动播放，默认为0；\r\n          });\r\n        } else {\r\n          console.log(\"请求失败\", result);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // 获取分类菜单数据\r\n  function catitems() {\r\n    // $.ajax({})\r\n    // $.get(接口的路径，发送到后台去的参数|可以不传，成功的回调函数)\r\n\r\n    $.get(\"http://api.pyg.ak48.xyz/api/public/v1/home/catitems\", result => {\r\n      if (result.meta.status == 200) {\r\n        // 请求成功\r\n\r\n        // 要渲染的数据 数组\r\n        let data = result.data;\r\n        // 要拼接html\r\n        let html = \"\";\r\n        for (let i = 0; i < data.length; i++) {\r\n          let tmpHtml = `\r\n          <a href=\"javascript:;\">\r\n          <img src=\"${data[i].image_src}\" alt=\"\">\r\n           </a>\r\n          `;\r\n          html+=tmpHtml;\r\n        }\r\n        \r\n        // 把分类的标签 插入到  容器中\r\n        $(\".pyg_cates\").html(html);\r\n      } else {\r\n        console.log(\"请求失败\", result);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 获取首页商品列表数据\r\n  function goodslist() {\r\n    $.get(\"http://api.pyg.ak48.xyz/api/public/v1/home/goodslist\",(result)=>{\r\n   if(result.meta.status==200){\r\n    //  成功\r\n    // 获取要渲染的数据\r\n    let data=result.data;\r\n    \r\n    // 生成要渲染的数据\r\n    let html=template(\"listTpl\",{arr:data});\r\n\r\n    $(\".pyg_goodslist\").html(html);\r\n   }else{\r\n    //  失败\r\n   }\r\n    })\r\n    \r\n  }\r\n});\r\n"],"file":"index.js"}